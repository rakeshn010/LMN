{% extends "admin/base.html" %}

{% block title %}Blog Posts - Admin Panel{% endblock %}

{% block content %}
<div class="admin-header">
    <h1>Blog Management</h1>
    <a href="{{ url_for('admin.new_blog_post') }}" class="btn-primary">+ New Post</a>
</div>

<div class="admin-card">
    <div class="table-responsive">
        <table class="admin-table">
            <thead>
                <tr>
                    <th>Title</th>
                    <th>Category</th>
                    <th>Author</th>
                    <th>Status</th>
                    <th>Date</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                {% if posts %}
                    {% for post in posts %}
                    <tr>
                        <td><strong>{{ post.title }}</strong></td>
                        <td>{{ post.category }}</td>
                        <td>{{ post.author }}</td>
                        <td>
                            <span class="status-badge status-{{ 'approved' if post.published else 'pending' }}">
                                {{ 'Published' if post.published else 'Draft' }}
                            </span>
                        </td>
                        <td>{{ post.created_at.strftime('%Y-%m-%d') }}</td>
                        <td>
                            <a href="{{ url_for('admin.edit_blog_post', post_id=post.id) }}" class="btn-small">Edit</a>
                            <form method="POST" action="{{ url_for('admin.delete_blog_post', post_id=post.id) }}" style="display: inline;">
                                <button type="submit" class="btn-small btn-danger" onclick="return confirm('Delete this post?')">Delete</button>
                            </form>
                        </td>
                    </tr>
                    {% endfor %}
                {% else %}
                    <tr>
                        <td colspan="6" style="text-align: center; padding: 2rem;">
                            No blog posts found
                        </td>
                    </tr>
                {% endif %}
            </tbody>
        </table>
    </div>
</div>
{% endblock %}
